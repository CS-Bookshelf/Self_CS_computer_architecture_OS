<aside>

- 프로세스 상태
- 부모 프로세스
- 자식 프로세스
- 프로세스 계층 구조
</aside>
<br>

## 프로세스 상태

### 생성 상태

- 프로세스를 생성 중인 상태
- 이제 막 메모리에 적재 돼 PCB를 할당 받은 상태
    - 생성 상태를 거쳐서 실행 준비가 된 프로세스는 ‘준비 상태’가 돼 CPU의 할당 대기

### 준비 상태

- CPU 할당을 기다리고 있는 상태
- 준비 상태 → 실행 상태 : 디스패치 (Dispatch)

### 실행 상태

- CPU 할당받아 실행 중인 상태
- 할당된 일정 시간 동안만 CPU를 사용 가능
- 실행 중 입출력장치를 사용해 입출력 장치의 작업이 끝날 때까지 기다려야 하면 대기 상태가 됨

### 대기 상태

- 입출력장치의 작업을 기다리는 상태
- 입출력 작업이 완료되면 해당 프로세스는 다시 준비 상태로 CPU 할당을 대기

### 종료 상태

- 프로세스가 종료된 상태
- 운영체제는 PCB 프로세스가 사용한 메모리 정리

### 프로세스 상태 다이어그램

<br>

## 프로세스 계층 구조

### 부모 프로세스

- 새 프로세스를 생성한 프로세스

### 자식 프로세스

- 부모 프로세스에 의해 생성된 프로세스

<br>

## 프로세스 생성 기법

### 자식 프로세스 실행

- 복제와 옷 갈아입기를 통해 실행된다.
    - 부모 프로세스는 fork를 통해 자신의 복사본을 자식 프로세스로 생성
    - 자식 프로세스는 exec를 통해 자신의 메모리 공간을 다른 프로그램으로 교체

### fork

- 자기 자신 프로세스의 복사본을 만드는 시스템 호출
- 부모 프로세스의 자원들이 상속된다. (복사된 자식 프로세스라도 PID 값, 저장된 메모리 위치는 다름)
    - 부모의 PID인 PPID가 기록되기도 함.

### exec

- 자신의 메모리 공간을 새로운 프로그램으로 덮어쓰는 시스템 호출
- 이를 호출해 코드 영역과 데이터 영역의 내용이 실행할 프로그램의 내용으로 바뀌고 나머지 영역은 초기화

⇒ 부모가 자식 프로세스를 실행하며 프로세스 계층 구조를 이루는 과정 : fork와 exec가 반복되는 과정

<br>

## 마무리

### 키워드

- **프로세스 상태**
    - **프로세스 상태**에는 생성, 준비, 실행, 대기, 종료가 있습니다.
- **부모 프로세스, 자식 프로세스**
    - 프로세스가 다른 프로세스를 생성한 경우 프로세스를 생성한 프로세스를 **부모 프로세스**, 생성된 프로세스를 **자식 프로세스**라고 부른다.
- **프로세스 계층 구조**
    - 많은 운영체제는 프로세스가 프로세스를 낳는 **프로세스 계층 구조**로 프로세스들을 관리한다.

### 확인 문제

1번 문제

1. 생성 상태
2. 준비 상태
3. 실행 상태
4. 종료 상태
5. 대기 상태

2번

1. 로그인 프로세스
2. Vim 프로세스
3. bash 프로세스

fork 시스템 호출과 폴더 생성은 연관이 없다.

준비 상태는 CPU를 할당받기를 기다리고 있는 상태이다.
